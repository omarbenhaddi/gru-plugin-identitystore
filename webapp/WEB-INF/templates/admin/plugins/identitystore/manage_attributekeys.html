<#include "manageprocessusref_tabs.html" />
<@tabs tab="attributekey" />

<@rowBox>
    <@boxHeader i18nTitleKey="identitystore.manage_attributekeys.title">
        <@headerButtons>
        
        <form class="form-inline pull-right" method="post" name="manage_attributekeys" action="jsp/admin/plugins/identitystore/ManageAttributeKeys.jsp">
            <!-- Add pull-right to class1 -->
            <@actionButtons button1Name="view_createAttributeKey" icon1="icon-plus icon-white" i18nValue1Key="identitystore.manage_attributekeys.buttonAdd" />
        </form>
        
        </@headerButtons>
    </@boxHeader>
    <@boxBody>    
    <@messages infos=infos />
    <@paginationAdmin paginator=paginator combo=1 />
    <div class="clearfix"></div>
    
    <@table>
        <tr>
            <input type="hidden" id="id" name="id"/>
            <th>#i18n{identitystore.manage_attributekeys.columnName}</th>
            <th>#i18n{identitystore.manage_attributekeys.columnKeyName}</th>
            <th>#i18n{identitystore.manage_attributekeys.columnDescription}</th>
            <th>#i18n{identitystore.manage_attributekeys.columnKeyType}</th>
            <th>#i18n{identitystore.manage_attributekeys.columnKeyWeight}</th>
            <th>#i18n{identitystore.manage_attributekeys.columnPivot}</th>
            <th>#i18n{identitystore.manage_attributekeys.columnCertifiable}</th>
            <th>#i18n{identitystore.manage_attributekeys.columnMandatoryForCreation}</th>
            <th>#i18n{identitystore.manage_attributekeys.columnCommonSearchKey}</th>
            <th>#i18n{portal.util.labelActions}</th>
        </tr>
        <@tableHeadBodySeparator />
            <#list attributekey_list as attributekey >
        <tr>
            <input type="hidden" id="id" name="id"/>
            <td>
                ${attributekey.name}
            </td>
			<#if ( attributekey.keyName?length > 33 ) >
            <td title="${attributekey.keyName}">
                ${attributekey.keyName[0..30]}...
            </td>
			<#else>
            <td>
                ${attributekey.keyName!''}
            </td>
            </#if>
            <td>
                ${attributekey.description!''}
            </td>
            <td>
                ${attributekey.keyType.defaultLabel!''}
            </td>
            <td>
                ${attributekey.keyWeight!''}
            </td>
            <td>
                <#if attributekey.pivot = true>
                    <i class="fas fa-check" aria-hidden="true"></i>
                <#else>
                    <i class="fas fa-times" aria-hidden="true"></i>
                </#if>
            </td>
            <td>
                <#if attributekey.certifiable = true>
                    <i class="fas fa-check" aria-hidden="true"></i>
                <#else>
                    <i class="fas fa-times" aria-hidden="true"></i>
                </#if>
            </td>
            <td>
                <#if attributekey.mandatoryForCreation = true>
                    <i class="fas fa-check" aria-hidden="true"></i>
                <#else>
                    <i class="fas fa-times" aria-hidden="true"></i>
                </#if>
            </td>
            <td>
                ${attributekey.commonSearchKeyName!''}
            </td>
        <td>
            <a href="jsp/admin/plugins/identitystore/ManageAttributeKeys.jsp?view=modifyAttributeKey&id=${attributekey.id}"
               class="btn btn-primary" title="#i18n{portal.util.labelModify}">
                <i class="fa fa-edit"></i>
            </a>

            <a href="jsp/admin/plugins/identitystore/ManageAttributeKeys.jsp?action=confirmRemoveAttributeKey&id=${attributekey.id}"
               class="btn btn-danger" title="#i18n{portal.util.labelDelete}" >
                <i class="fa fa-trash"></i>
            </a>
        </td>
        </tr>
        </#list>
    </@table>

    <@paginationAdmin paginator=paginator />

  </@boxBody>
</@rowBox>

